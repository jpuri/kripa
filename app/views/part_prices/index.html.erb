<h1>Price List</h1>

<%= form_tag({:controller=>"models", :action => "search"}, :method => "get") do %>

<div class="top_pad_20">
  <%= label_tag(:make, "Make", :class => 'medium_lbl_grey') %>
  <%= collection_select(:make, :id,  @makes, :id, :name, {:prompt => 'Select Make', :selected => @make_id}, :class => 'width_large')%>
  <%= label_tag(:model, "Model #", :class => 'medium_lbl_grey') %>
  <%= collection_select(:model, :id,  @models_select, :id, :number, {:prompt => 'Select Model', :selected => @model_id}, :class => 'width_large')%>
  <%= label_tag(:part, "Part #", :class => 'medium_lbl_grey') %>
  <%= collection_select(:part, :id,  @parts, :id, :number, {:prompt => 'Select Part', :selected => @part_id}, :class => 'width_large')%>
</div>

<div class="top_pad_20">
  <%= label_tag(:customer, "Customer", :class => 'medium_lbl_grey') %>
  <%= collection_select(:customer, :id,  @customers, :id, :name, {:prompt => 'Select Customer', :selected => @customer_id}, :class => 'width_large')%>
  <%= label_tag(:currency, "Currency", :class => 'medium_lbl_grey') %>
  <%= collection_select(:currency, :id,  @currencies, :id, :name, {:prompt => 'Select Currency', :selected => @currency_id}, :class => 'width_large')%>

  <%= submit_tag "Search", :class => "small_button" %>
  <%= submit_tag "Reset", :class => "small_button" %>
</div>

<% end %>

<div class="top_pad_20">
<table class="borderedTable">
  <tr>
    <th>S. No.</th>
    <th>Make</th>
    <th>Model #</th>
    <th>Part #</th>
    <th>Part Description</th>
    <th>Weight(Kg)</th>
    <th>Customer</th>
    <th>Price</th>
  </tr>

  <% i = 1 %>

  <% for column in @result %>
  <tr>
    <td><%= i %></td>
    <td><%= column["make_name"] %></td>
    <td><%= column["model_number"] %></td>
    <td><%= column["part_number"] %></td>
    <td><%= column["part_description"] %></td>
    <td><%= column["weight"] %></td>
    <td><%= column["name"] %></td>
    <td><%= column["price"] %></td>
  </tr>
  <% i = i + 1 %>
  <% end %>

</table>

</div>